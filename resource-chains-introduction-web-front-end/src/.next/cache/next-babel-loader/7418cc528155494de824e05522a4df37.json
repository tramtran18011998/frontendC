{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\COMPUTER\\\\Desktop\\\\project\\\\resource-chains-introduction-web-front-end\\\\src\\\\modules\\\\writersPage\\\\components\\\\writersPageContainer.js\";\nimport React, { Component } from 'react';\nimport WritersPage from \"./writersPage\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { name } from \"../reducers\";\nimport * as action from \"../actions\";\nimport { withRouter } from \"react-router-dom\";\nimport fetch from 'unfetch';\nimport cookies from 'js-cookie';\nimport dynamic from 'next/dynamic';\nimport * as api from \"../../../api\";\nvar DynamicWriterPage = dynamic(function () {\n  return import(\"./writersPage\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"./writersPage\")];\n    },\n    modules: [\"./writersPage\"]\n  }\n});\nvar getWriterUrl = api.callAPI() + \"auth\";\n\nvar writersPageContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(writersPageContainer, _Component);\n\n  function writersPageContainer(props) {\n    var _this;\n\n    _classCallCheck(this, writersPageContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(writersPageContainer).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"updateCount\", function (status) {\n      fetch(getWriterUrl, {\n        method: 'GET',\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n          \"Authorization\": \"Bearer \" + cookies.get(\"token\")\n        }\n      }).then(function (res) {\n        console.log(res);\n        return res.json();\n      }).then(function (data) {\n        _this.setState({\n          rows: data.result\n        });\n\n        var numAvail = 0;\n        var numBan = 0;\n        data.result.map(function (e) {\n          if (e.status === true) numAvail++;else numBan++;\n        });\n\n        _this.setState({\n          availableWriter: numAvail,\n          banWriter: numBan\n        });\n      });\n    });\n\n    function createData(status, img, name, phone, email) {\n      return {\n        status: status,\n        img: img,\n        name: name,\n        phone: phone,\n        email: email\n      };\n    }\n\n    _this.state = {\n      showForm: false,\n      showContacts: false,\n      startDate: new Date(),\n      value: '',\n      isChecked: true,\n      rows: [],\n      data: {},\n      availableWriter: 0,\n      banWriter: 0\n    };\n    return _this;\n  }\n\n  _createClass(writersPageContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(getWriterUrl, {\n        method: 'GET',\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n          \"Authorization\": \"Bearer \" + cookies.get(\"token\")\n        }\n      }).then(function (res) {\n        console.log(res);\n        return res.json();\n      }).then(function (data) {\n        _this2.setState({\n          rows: data.result\n        });\n\n        var numAvail = 0;\n        var numBan = 0;\n        data.result.map(function (e) {\n          if (e.status === true) numAvail++;else numBan++;\n        });\n\n        _this2.setState({\n          availableWriter: numAvail,\n          banWriter: numBan\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(DynamicWriterPage, _extends({\n        updateCount: this.updateCount\n      }, this.props, this.state, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return writersPageContainer;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return _objectSpread({}, state[name]);\n}\n\nfunction mapDispatchToProps(dispatch) {\n  var actions = _objectSpread({}, action);\n\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(writersPageContainer));","map":{"version":3,"sources":["C:\\Users\\COMPUTER\\Desktop\\project\\resource-chains-introduction-web-front-end\\src\\modules\\writersPage\\components\\writersPageContainer.js"],"names":["React","Component","WritersPage","bindActionCreators","connect","name","action","withRouter","fetch","cookies","dynamic","api","DynamicWriterPage","getWriterUrl","callAPI","writersPageContainer","props","status","method","headers","get","then","res","console","log","json","data","setState","rows","result","numAvail","numBan","map","e","availableWriter","banWriter","createData","img","phone","email","state","showForm","showContacts","startDate","Date","value","isChecked","updateCount","mapStateToProps","mapDispatchToProps","dispatch","actions"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport WritersPage from \"./writersPage\"\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { name } from \"../reducers\";\nimport * as action from \"../actions\";\nimport { withRouter } from \"react-router-dom\";\nimport fetch from 'unfetch';\nimport cookies from 'js-cookie';\nimport dynamic from 'next/dynamic';\nimport * as api from \"../../../api\"\nconst DynamicWriterPage = dynamic(() => import(\"./writersPage\"))\n\nconst getWriterUrl = api.callAPI()+ `auth`\n\nclass writersPageContainer extends Component {\n    constructor(props) {\n        super(props)\n\n        function createData(status, img, name, phone, email) {\n            return { status, img, name, phone, email };\n        }\n        this.state = {\n            showForm: false,\n            showContacts: false,\n            startDate: new Date(),\n            value: '',\n            isChecked: true,\n            rows: [\n            ],\n            data: {},\n            availableWriter: 0,\n            banWriter: 0\n        }\n    }\n\n    componentDidMount() {\n        fetch(getWriterUrl, {\n            method: 'GET',\n            headers: {\n                \"Content-type\": \"application/json; charset=UTF-8\",\n                \"Authorization\": \"Bearer \" + cookies.get(\"token\")\n            }\n        }).then(res => {\n            console.log(res)\n            return res.json()\n        }).then(data => {\n            this.setState({\n                rows: data.result\n            })\n            let numAvail = 0\n            let numBan = 0\n            data.result.map(e => {\n                if (e.status === true)\n                    numAvail++\n                else\n                    numBan++\n            })\n            this.setState({\n                availableWriter: numAvail,\n                banWriter: numBan\n            })\n        })\n    }\n    updateCount=(status)=> {\n        fetch(getWriterUrl, {\n            method: 'GET',\n            headers: {\n                \"Content-type\": \"application/json; charset=UTF-8\",\n                \"Authorization\": \"Bearer \" + cookies.get(\"token\")\n            }\n        }).then(res => {\n            console.log(res)\n            return res.json()\n        }).then(data => {\n            this.setState({\n                rows: data.result\n            })\n            let numAvail = 0\n            let numBan = 0\n            data.result.map(e => {\n                if (e.status === true)\n                    numAvail++\n                else\n                    numBan++\n            })\n            this.setState({\n                availableWriter: numAvail,\n                banWriter: numBan\n            })\n        })\n    }\n    render() {\n        return (\n            <React.Fragment>\n                <DynamicWriterPage updateCount={this.updateCount} {...this.props} {...this.state} />\n            </React.Fragment>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        ...state[name]\n    };\n}\nfunction mapDispatchToProps(dispatch) {\n    const actions = {\n        ...action\n    };\n    return { actions: bindActionCreators(actions, dispatch) };\n}\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(writersPageContainer)\n);"]},"metadata":{},"sourceType":"module"}